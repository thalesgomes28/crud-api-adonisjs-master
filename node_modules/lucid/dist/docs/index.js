'use strict';

var _keys2 = require('lodash/keys');

var _keys3 = _interopRequireDefault(_keys2);

var _reduce2 = require('lodash/reduce');

var _reduce3 = _interopRequireDefault(_reduce2);

var _flatMap2 = require('lodash/flatMap');

var _flatMap3 = _interopRequireDefault(_flatMap2);

var _slice2 = require('lodash/slice');

var _slice3 = _interopRequireDefault(_slice2);

var _partial2 = require('lodash/partial');

var _partial3 = _interopRequireDefault(_partial2);

var _isNil2 = require('lodash/isNil');

var _isNil3 = _interopRequireDefault(_isNil2);

var _isEmpty2 = require('lodash/isEmpty');

var _isEmpty3 = _interopRequireDefault(_isEmpty2);

var _sortBy2 = require('lodash/sortBy');

var _sortBy3 = _interopRequireDefault(_sortBy2);

var _toPairs2 = require('lodash/toPairs');

var _toPairs3 = _interopRequireDefault(_toPairs2);

var _omit2 = require('lodash/omit');

var _omit3 = _interopRequireDefault(_omit2);

var _assign2 = require('lodash/assign');

var _assign3 = _interopRequireDefault(_assign2);

var _set2 = require('lodash/set');

var _set3 = _interopRequireDefault(_set2);

var _isArray2 = require('lodash/isArray');

var _isArray3 = _interopRequireDefault(_isArray2);

var _isPlainObject2 = require('lodash/isPlainObject');

var _isPlainObject3 = _interopRequireDefault(_isPlainObject2);

var _groupBy2 = require('lodash/groupBy');

var _groupBy3 = _interopRequireDefault(_groupBy2);

var _map2 = require('lodash/map');

var _map3 = _interopRequireDefault(_map2);

var _flow2 = require('lodash/flow');

var _flow3 = _interopRequireDefault(_flow2);

var _tail2 = require('lodash/tail');

var _tail3 = _interopRequireDefault(_tail2);

var _head2 = require('lodash/head');

var _head3 = _interopRequireDefault(_head2);

var _startCase2 = require('lodash/startCase');

var _startCase3 = _interopRequireDefault(_startCase2);

var _words2 = require('lodash/words');

var _words3 = _interopRequireDefault(_words2);

var _clone2 = require('lodash/clone');

var _clone3 = _interopRequireDefault(_clone2);

var _defaultsDeep2 = require('lodash/defaultsDeep');

var _defaultsDeep3 = _interopRequireDefault(_defaultsDeep2);

var _get2 = require('lodash/get');

var _get3 = _interopRequireDefault(_get2);

var _includes2 = require('lodash/includes');

var _includes3 = _interopRequireDefault(_includes2);

var _mapValues2 = require('lodash/mapValues');

var _mapValues3 = _interopRequireDefault(_mapValues2);

var _xor2 = require('lodash/xor');

var _xor3 = _interopRequireDefault(_xor2);

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*eslint no-console: 0*/
// eslint-disable-line


var _path = require('path');

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactRouter = require('react-router');

var _reactRouterDom = require('react-router-dom');

var _docgen = require('./docgen.json');

var _docgen2 = _interopRequireDefault(_docgen);

var _util = require('./util');

var _createReactClass = require('create-react-class');

var _createReactClass2 = _interopRequireDefault(_createReactClass);

var _querystring = require('querystring');

var _querystring2 = _interopRequireDefault(_querystring);

var _colorPalette = require('./containers/color-palette');

var _colorPalette2 = _interopRequireDefault(_colorPalette);

var _landingPage = require('./containers/landing-page');

var _landingPage2 = _interopRequireDefault(_landingPage);

var _icons = require('./containers/icons');

var _icons2 = _interopRequireDefault(_icons);

var _index = require('../index');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// Allow webpack to handle less compilation here
require('./index.less');
require('../index.less');

var Thead = _index.Table.Thead,
    Tbody = _index.Table.Tbody,
    Tr = _index.Table.Tr,
    Th = _index.Table.Th,
    Td = _index.Table.Td;


function toggleOrSelectReducer() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var i = arguments[1];

	return _extends({}, state, {
		expandedIndices: (0, _xor3.default)(state.expandedIndices || [], [i])
	});
}

var VerticalListMenu = _index.stateManagement.buildHybridComponent(_index.VerticalListMenuDumb, {
	reducers: {
		onSelect: toggleOrSelectReducer,
		onToggle: toggleOrSelectReducer
	}
});

var Item = VerticalListMenu.Item;

// This is webpackism for "dynamically load all example files"

var reqExamples = require.context('../components/', true, /examples.*\.jsx?/i);
var reqExamplesRaw = require.context('!!raw!../components/', true, /examples.*\.jsx?/i);

var docgenMap = (0, _mapValues3.default)(_docgen2.default, function (value, componentName) {
	// child components don't have any custom data
	if ((0, _includes3.default)(componentName, '.')) {
		return value;
	}

	var parentName = value.customData.extend;

	if (!parentName) {
		return value;
	}

	// TODO: this hack only allows for one level of `extend` nesting, we'll need
	// recursion to go deeper.
	var parentExtend = (0, _get3.default)(_docgen2.default, parentName + '.customData.extend');
	var parentProps = (0, _get3.default)(_docgen2.default, (parentExtend || parentName) + '.props');

	if (!parentProps) {
		throw new Error('Looks like something is wrong with the custom metadata for ' + componentName + '. Please make sure the \'extend\' refers to a real component that has valid props defined.');
	}

	// The `clone` is important to keep from mutating `value`
	return (0, _defaultsDeep3.default)((0, _clone3.default)(value), { props: parentProps });
});

/**
 * Transforms an example filename to an example title. Remove leading numbers and
 * file extensions then capitalizes each word and separates each with a space.
 */
function getExampleTitleFromFilename(filename) {
	var words = (0, _words3.default)((0, _startCase3.default)((0, _path.basename)(filename, '.jsx')));
	return (/^\d+$/.test((0, _head3.default)(words)) ? (0, _tail3.default)(words) : words).join(' ');
}

var examplesByComponent = (0, _flow3.default)(function (x) {
	return (0, _map3.default)(x, function (path) {
		var items = path.split('/').reverse(); // e.g. ['default.jsx', 'examples', 'Button', '.']
		var componentName = items[2];
		return {
			componentName: componentName,
			name: getExampleTitleFromFilename(items[0]),
			source: reqExamplesRaw(path),
			Example: reqExamples(path).default };
	});
}, function (x) {
	return (0, _groupBy3.default)(x, 'componentName');
})(reqExamples.keys());

var oneOfType = _propTypes2.default.oneOfType,
    shape = _propTypes2.default.shape,
    object = _propTypes2.default.object,
    array = _propTypes2.default.array,
    string = _propTypes2.default.string,
    node = _propTypes2.default.node,
    any = _propTypes2.default.any,
    bool = _propTypes2.default.bool;


var PropType = (0, _createReactClass2.default)({
	propTypes: {
		componentName: string.isRequired,
		type: oneOfType([node, string, shape({
			name: string,
			computed: bool,
			value: oneOfType([string, array, object])
		})]).isRequired,
		/**
   * Only provided when we're dealing with a `shape`
   */
		shapeKey: string
	},

	render: function render() {
		var _props = this.props,
		    componentName = _props.componentName,
		    type = _props.type,
		    shapeKey = _props.shapeKey;


		if (!type) {
			console.error('It looks like there\'s an issue with ' + componentName + '\'s props. One common cause of this issue is when the getDefaultProps method defines a default value for a prop that is not explicitly defined in the propTypes map.');
			return null;
		}

		// If type.value exists it means there are multiple children and we need to
		// recurse
		if ((0, _isPlainObject3.default)(type.value) || (0, _isArray3.default)(type.value)) {
			return _react2.default.createElement(
				'div',
				null,
				shapeKey ? shapeKey + ': ' : null,
				type.name === 'union' ? 'oneOfType' : type.name,
				':',
				_react2.default.createElement(
					'ul',
					null,
					type.name === 'arrayOf' ? _react2.default.createElement(PropType, { type: type.value, componentName: componentName }) : (0, _map3.default)(type.value, function (innerType, key) {
						return _react2.default.createElement(
							'li',
							{ key: key },
							_react2.default.createElement(PropType, {
								type: innerType,
								componentName: componentName,
								shapeKey: type.name === 'shape' ? key : null
							})
						);
					})
				)
			);
		}

		return _react2.default.createElement(
			'span',
			null,
			shapeKey ? shapeKey + ': ' : null,
			type.name || type.value || type
		);
	}
});

var Component = (0, _createReactClass2.default)({
	propTypes: {
		match: shape({
			params: shape({
				componentName: string.isRequired
			})
		}),
		location: any
	},

	getInitialState: function getInitialState() {
		return {
			examples: {
				Foo: {
					// an example of the shape of this state
					isShown: true
				}
			}
		};
	},


	componentDidMount: _util.handleHighlightCode,
	componentDidUpdate: _util.handleHighlightCode,

	handleShowExample: function handleShowExample(componentName, exampleName) {
		var path = componentName + '.' + exampleName;
		var isShown = (0, _get3.default)(this.state.examples, path, false);
		this.setState({
			examples: (0, _set3.default)(this.state.examples, path, !isShown)
		});
	},
	render: function render() {
		var _this = this;

		var componentName = this.props.match.params.componentName;


		var component = (0, _get3.default)(docgenMap, componentName, {});
		var childComponents = (0, _map3.default)((0, _get3.default)(component, 'childComponents', []), function (childComponent) {
			if (!childComponent.componentRef) {
				return childComponent;
			}
			return (0, _assign3.default)({}, childComponent, (0, _omit3.default)((0, _get3.default)(docgenMap, childComponent.componentRef, {}), ['displayName']));
		});

		var componentProps = (0, _flow3.default)(function (x) {
			return (0, _get3.default)(x, componentName + '.props', []);
		}, function (x) {
			return (0, _toPairs3.default)(x);
		}, // this turns the object into an array of [propName, propDetails] so we can sort
		function (x) {
			return (0, _sortBy3.default)(x, function (x) {
				return x[0];
			});
		} // sort by property name
		)(docgenMap);

		var descriptionMarkdown = (0, _get3.default)(docgenMap, componentName + '.description');

		if (!descriptionMarkdown) {
			throw new Error('Unable to find ' + componentName + '\'s description in src/docs/docgen.json. Are you on a bad URL? Did you forget to run `gulp docs-generate`? Did you remember to give ' + componentName + ' a description block?');
		}

		var descriptionHTML = (0, _util.toMarkdown)((0, _get3.default)(docgenMap, componentName + '.description'));

		var privateString = (0, _get3.default)(docgenMap, componentName + '.isPrivateComponent') ? '(private)' : '';

		var componentNames = (0, _get3.default)(docgenMap, componentName + '.customData.madeFrom', []);
		var composesComponents = (0, _isEmpty3.default)(componentNames) ? null : _react2.default.createElement(
			'span',
			{ className: 'Component-made-from' },
			_react2.default.createElement(
				'span',
				null,
				'made from: '
			),
			(0, _map3.default)(componentNames, function (name, index) {
				return _react2.default.createElement(
					'span',
					{ key: name },
					_react2.default.createElement(
						_reactRouterDom.Link,
						{
							to: {
								pathname: '/components/' + name,
								search: _this.props.location.search
							}
						},
						name
					),
					index == componentNames.length - 1 ? null : ', '
				);
			})
		);

		return _react2.default.createElement(
			'div',
			{ className: 'Component' },
			_react2.default.createElement(
				'h2',
				null,
				componentName,
				' ',
				privateString,
				' ',
				composesComponents
			),
			_react2.default.createElement('div', { dangerouslySetInnerHTML: descriptionHTML }),
			_react2.default.createElement(
				'h3',
				null,
				'Props'
			),
			_react2.default.createElement(
				'div',
				{ className: 'Component-table-wrapper' },
				_react2.default.createElement(
					_index.Table,
					{ style: { width: '100%' } },
					_react2.default.createElement(
						Thead,
						null,
						_react2.default.createElement(
							Tr,
							null,
							_react2.default.createElement(
								Th,
								null,
								'Name'
							),
							_react2.default.createElement(
								Th,
								null,
								'Type'
							),
							_react2.default.createElement(
								Th,
								null,
								'Required'
							),
							_react2.default.createElement(
								Th,
								null,
								'Default'
							),
							_react2.default.createElement(
								Th,
								null,
								'Description'
							)
						)
					),
					_react2.default.createElement(
						Tbody,
						null,
						(0, _map3.default)(componentProps, function (_ref) {
							var _ref2 = _slicedToArray(_ref, 2),
							    propName = _ref2[0],
							    propDetails = _ref2[1];

							if (!propDetails || !propDetails.description) {
								console.error('Warning: There was an issue with the docs that were generated for component "' + componentName + '" and prop "' + propName + '". One reason might be that you have a default value for something that was never declared in propTypes.');
								return null;
							}

							return _react2.default.createElement(
								Tr,
								{ key: propName },
								_react2.default.createElement(
									Td,
									null,
									propName
								),
								_react2.default.createElement(
									Td,
									null,
									_react2.default.createElement(PropType, {
										type: propDetails.type,
										componentName: componentName
									})
								),
								_react2.default.createElement(
									Td,
									null,
									propDetails.required ? 'yes' : 'no'
								),
								_react2.default.createElement(
									Td,
									null,
									propDetails.defaultValue ? _react2.default.createElement(
										'pre',
										null,
										_react2.default.createElement(
											'code',
											{ className: 'lang-javascript' },
											(0, _get3.default)(propDetails, 'defaultValue.value', '')
										)
									) : null
								),
								_react2.default.createElement(Td, {
									dangerouslySetInnerHTML: (0, _util.toMarkdown)(propDetails.description)
								})
							);
						})
					)
				)
			),
			!(0, _isEmpty3.default)(childComponents) ? _react2.default.createElement(
				'section',
				null,
				_react2.default.createElement(
					'h3',
					null,
					'Child Components'
				),
				(0, _map3.default)(childComponents, function (childComponent) {
					return _react2.default.createElement(
						'section',
						{ key: childComponent.displayName },
						_react2.default.createElement(
							'h4',
							null,
							childComponent.componentRef ? _react2.default.createElement(
								_reactRouterDom.Link,
								{
									to: '/components/' + childComponent.componentRef.split('.')[0]
								},
								childComponent.displayName,
								childComponent.displayName !== childComponent.componentRef && ' (' + childComponent.componentRef + ')'
							) : childComponent.displayName
						),
						_react2.default.createElement('div', {
							dangerouslySetInnerHTML: (0, _util.toMarkdown)(childComponent.description)
						}),
						childComponent.propName && _react2.default.createElement(
							_index.Table,
							null,
							_react2.default.createElement(
								Tbody,
								null,
								_react2.default.createElement(
									Tr,
									null,
									_react2.default.createElement(
										Td,
										null,
										'propName'
									),
									_react2.default.createElement(
										Td,
										null,
										_react2.default.createElement(
											'pre',
											null,
											_react2.default.createElement(
												'code',
												{ className: 'lang-javascript' },
												childComponent.propName
											)
										)
									)
								)
							)
						),
						!(0, _isNil3.default)(childComponent.props) ? _react2.default.createElement(
							_index.Table,
							{ style: { width: '100%' } },
							_react2.default.createElement(
								Thead,
								null,
								_react2.default.createElement(
									Tr,
									null,
									_react2.default.createElement(
										Th,
										null,
										'Name'
									),
									_react2.default.createElement(
										Th,
										null,
										'Type'
									),
									_react2.default.createElement(
										Th,
										null,
										'Required'
									),
									_react2.default.createElement(
										Th,
										null,
										'Default'
									),
									_react2.default.createElement(
										Th,
										null,
										'Description'
									)
								)
							),
							_react2.default.createElement(
								Tbody,
								null,
								(0, _map3.default)((0, _sortBy3.default)((0, _toPairs3.default)((0, _get3.default)(childComponent, 'props', [])), function (x) {
									return x[0];
								}), function (_ref3) {
									var _ref4 = _slicedToArray(_ref3, 2),
									    propName = _ref4[0],
									    propDetails = _ref4[1];

									if (!propDetails || (0, _isNil3.default)(propDetails.description)) {
										console.error('Warning: There was an issue with the docs that were generated for component "' + componentName + '.' + childComponent.displayName + '" and prop "' + propName + '". One reason might be that you have a default value for something that was never declared in propTypes.');
										return null;
									}

									return _react2.default.createElement(
										Tr,
										{
											key: childComponent.displayName + '-' + propName
										},
										_react2.default.createElement(
											Td,
											null,
											propName
										),
										_react2.default.createElement(
											Td,
											null,
											_react2.default.createElement(PropType, {
												type: propDetails.type,
												componentName: childComponent.displayName
											})
										),
										_react2.default.createElement(
											Td,
											null,
											propDetails.required ? 'yes' : 'no'
										),
										_react2.default.createElement(
											Td,
											null,
											propDetails.defaultValue ? _react2.default.createElement(
												'pre',
												null,
												_react2.default.createElement(
													'code',
													{ className: 'lang-javascript' },
													(0, _get3.default)(propDetails, 'defaultValue.value', '')
												)
											) : null
										),
										_react2.default.createElement(Td, {
											dangerouslySetInnerHTML: (0, _util.toMarkdown)(propDetails.description)
										})
									);
								})
							)
						) : null
					);
				})
			) : null,
			_react2.default.createElement(
				'h3',
				null,
				'Examples'
			),
			_react2.default.createElement(
				'ul',
				{ className: 'Component-examples ' + componentName },
				(0, _map3.default)((0, _get3.default)(examplesByComponent, componentName, []), function (example) {
					return _react2.default.createElement(
						'li',
						{
							className: componentName + '-example-' + example.name,
							key: example.name
						},
						_react2.default.createElement(
							'div',
							{ className: 'Component-examples-header' },
							_react2.default.createElement(
								'h4',
								null,
								example.name
							),
							_react2.default.createElement(
								'a',
								{
									href: '#',
									onClick: function onClick(event) {
										event.preventDefault();
										_this.handleShowExample(componentName, example.name);
									}
								},
								(0, _get3.default)(_this.state.examples, componentName + '.' + example.name, false) ? 'Hide code' : 'Show code'
							)
						),
						(0, _get3.default)(_this.state.examples, componentName + '.' + example.name) ? _react2.default.createElement(
							'pre',
							null,
							_react2.default.createElement(
								'code',
								{ className: 'lang-javascript' },
								example.source
							)
						) : null,
						_react2.default.createElement(example.Example, null)
					);
				})
			)
		);
	}
});

var App = (0, _createReactClass2.default)({
	getInitialState: function getInitialState() {
		return {
			search: ''
		};
	},


	propTypes: {
		children: any,
		location: any,
		history: any
	},

	goToPath: function goToPath(path) {
		this.props.history.push({
			pathname: path,
			search: this.props.location.search
		});
	},
	renderCategoryLinks: function renderCategoryLinks(items) {
		var _this2 = this;

		if ((0, _isPlainObject3.default)(items)) {
			var sortedItems = (0, _sortBy3.default)((0, _toPairs3.default)(items), function (pair) {
				return pair[0];
			});

			return _react2.default.createElement(
				VerticalListMenu,
				{ selectedIndices: [] },
				(0, _map3.default)(sortedItems, function (_ref5) {
					var _ref6 = _slicedToArray(_ref5, 2),
					    categoryName = _ref6[0],
					    kids = _ref6[1];

					return _react2.default.createElement(
						Item,
						{ hasExpander: true, isActionable: false, key: categoryName },
						_react2.default.createElement(
							'span',
							null,
							(0, _startCase3.default)(categoryName)
						),
						_this2.renderCategoryLinks(kids)
					);
				})
			);
		}

		return _react2.default.createElement(
			VerticalListMenu,
			{ selectedIndices: [] },
			(0, _map3.default)((0, _sortBy3.default)(items), function (componentName) {
				return _react2.default.createElement(
					Item,
					{
						key: componentName,
						onSelect: (0, _partial3.default)(_this2.goToPath, '/components/' + componentName),
						isSelected: _this2.props.location.pathname === '/components/' + componentName
					},
					componentName
				);
			})
		);
	},
	handleSearchChange: function handleSearchChange(value) {
		this.setState({ search: value });
	},
	handleSearchSelect: function handleSearchSelect(index) {
		this.goToPath('/components/' + this.searchResults()[index]);
	},
	showPrivateComponents: function showPrivateComponents() {
		return (0, _includes3.default)([true, '1', 'true'], _querystring2.default.parse((0, _slice3.default)((0, _get3.default)(this, 'props.location.search', ''), 1).join('')).private);
	},
	searchResults: function searchResults() {
		var _this3 = this;

		var search = this.state.search;


		return (0, _flatMap3.default)(docgenMap, function (value, componentName) {
			if (!_this3.showPrivateComponents() && value.isPrivateComponent) {
				return [];
			}

			// exclude child components from search
			if ((0, _includes3.default)(componentName, '.')) {
				return [];
			}

			if (componentName.toLowerCase().indexOf(search.toLowerCase()) !== -1) {
				return componentName;
			}

			return [];
		});
	},
	render: function render() {
		var _this4 = this;

		var search = this.state.search;


		var docgenGroups = (0, _reduce3.default)(docgenMap, function (acc, value, key) {
			if (!_this4.showPrivateComponents() && value.isPrivateComponent) {
				return acc;
			}

			// exclude child components from grouping
			if ((0, _includes3.default)(key, '.')) {
				return acc;
			}

			var path = value.customData.categories.join('.');
			var newGroup = (0, _get3.default)(acc, path, []);
			newGroup.push(key);
			return (0, _set3.default)(acc, path, newGroup);
		}, {});
		var suggestions = this.searchResults();

		return _react2.default.createElement(
			'div',
			{ className: 'App' },
			_react2.default.createElement(
				'div',
				{ className: 'App-sidebar' },
				_react2.default.createElement(
					_reactRouterDom.Link,
					{
						className: 'App-sidebar-logo',
						to: { pathname: '/', search: this.props.location.search }
					},
					_react2.default.createElement('img', { src: 'img/logo.svg', style: { maxWidth: '100%' } })
				),
				_react2.default.createElement(
					'div',
					{ className: 'App-sidebar-container' },
					_react2.default.createElement(_index.Autocomplete, {
						className: 'App-sidebar-search',
						placeholder: 'Component search',
						suggestions: suggestions,
						value: search,
						onChange: this.handleSearchChange,
						onSelect: this.handleSearchSelect
					})
				),
				_react2.default.createElement(
					'nav',
					null,
					_react2.default.createElement(
						VerticalListMenu,
						{ className: 'App-pages' },
						_react2.default.createElement(
							Item,
							{
								onSelect: (0, _partial3.default)(this.goToPath, '/color-palette'),
								isSelected: this.props.location.pathname === '/color-palette'
							},
							'Color Palette'
						),
						_react2.default.createElement(
							Item,
							{
								onSelect: (0, _partial3.default)(this.goToPath, '/icons'),
								isSelected: this.props.location.pathname === '/icons'
							},
							'Icons'
						)
					),
					this.renderCategoryLinks(docgenGroups)
				)
			),
			_react2.default.createElement(
				'div',
				{ className: 'App-body' },
				_react2.default.createElement(
					_reactRouter.Switch,
					null,
					_react2.default.createElement(_reactRouterDom.Route, { exact: true, path: '/', component: _landingPage2.default }),
					_react2.default.createElement(_reactRouterDom.Route, { path: '/components/:componentName', component: Component }),
					_react2.default.createElement(_reactRouterDom.Route, { path: '/color-palette', component: _colorPalette2.default }),
					_react2.default.createElement(_reactRouterDom.Route, { path: '/icons', component: (0, _reactRouter.withRouter)(_icons2.default) })
				)
			)
		);
	}
});

var testExamplesMap = (0, _reduce3.default)(reqExamples.keys(), function (acc, key) {
	var exampleName = (0, _util.sanitizeExamplePath)(key);
	return _extends({}, acc, _defineProperty({}, exampleName, reqExamples(key).default));
}, {});

var testExampleKeys = (0, _keys3.default)(testExamplesMap);

var TestList = (0, _createReactClass2.default)({
	render: function render() {
		// gross hack to pass the list of examples to the screenshot test scaffold
		window.examples = testExampleKeys;
		return _react2.default.createElement(
			'ul',
			{ id: 'examples-list' },
			(0, _map3.default)(testExampleKeys, function (path) {
				return _react2.default.createElement(
					'li',
					{ key: path },
					_react2.default.createElement(
						_reactRouterDom.Link,
						{ to: '/test/' + path },
						path
					)
				);
			})
		);
	}
});

var Test = (0, _createReactClass2.default)({
	propTypes: { params: any },
	render: function render() {
		var Example = testExamplesMap[this.props.params.exampleKey];
		return _react2.default.createElement(
			'div',
			{ id: 'example' },
			_react2.default.createElement(Example, null)
		);
	}
});

(0, _reactDom.render)(_react2.default.createElement(
	_reactRouterDom.HashRouter,
	null,
	_react2.default.createElement(
		'div',
		null,
		_react2.default.createElement(_reactRouterDom.Route, { path: '/', component: App }),
		_react2.default.createElement(_reactRouterDom.Route, { path: 'test', component: TestList }),
		_react2.default.createElement(_reactRouterDom.Route, { path: 'test/:exampleKey', component: Test })
	)
), document.querySelector('#docs'));